function [m,m_in,r] = m_ini(flag)
m=zeros(90,120);
%水平框架
m(15,:)=2;m(16,:)=1;
m(35,:)=2;m(36,:)=1;
m(55,17:104)=2;m(56,17:104)=1;
m(75,:)=2;m(76,:)=1;
%垂直框架
m(:,15)=3;m(:,16)=4;
m(37:end,45)=3;m(37:end,46)=4;
m(37:end,75)=3;m(37:end,76)=4;
m(:,105)=3;m(:,106)=4;
%主要路口（有红绿灯）
m(15:16,[15,16,105,106])=6;
m(35:36,[15,16,105,106])=6;
m(55:56,[45,46,75,76])=6;
m(75:76,[15,16,45,46,75,76,105,106])=6;
%主要路口（无红绿灯）
m(35:36,[45,46,75,76])=5;
m(55:56,[15,16,105,106])=5;
%开放
if flag==1
    %水平
    m(26,17:74)=1;m(25,17:74)=2;
    m(42,77:104)=1;m(41,77:104)=2;
    m(48,77:104)=1;m(47,77:104)=2;
    %竖直
    m(17:34,45)=3;m(17:34,46)=4;
    m(17:34,75)=3;m(17:34,76)=4;
    m(37:54,90)=3;m(37:54,91)=4;
    %路口
    m(15:16,[45,46,75,76])=5;
    m(25:26,[15,16,45,46,75,76])=5;
    m(35:36,[90,91])=5;
    m(41:42,[75,76,90,91,105,106])=5;
    m(47:48,[75,76,90,91,105,106])=5;
    m(55:56,[90,91])=5;
end
m_in=zeros(90,120);
m_in([16,76],1)=1;
m_in([15,75],120)=1;
m_in(1,[15,105])=1;
m_in(90,[16,106])=1;

% m_in=zeros(90,120);
% m_in(16,1)=1;
% m_in(15,120)=1;
% m_in(1,[15,105])=1;

r=sum(sum(m>=5))./sum(sum(m~=0));
end

